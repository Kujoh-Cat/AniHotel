<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Site De Mangás Em Alta Qualidade!">
<meta name="msapplication-TileImage" content="/favicons/bachira.png">
<meta name="msapplication-square70x70logo" content="/favicons/bachira.png">
<meta name="msapplication-square150x150logo" content="/favicons/bachira.png">
<meta name="msapplication-wide310x150logo" content="/favicons/bachira.png">
<meta name="msapplication-square310x310logo" content="/favicons/bachira.png">
<meta name="theme-color" content="#181818">
<link rel="apple-touch-icon" href="/favicons/bachira.png">
<link rel="apple-touch-icon-precomposed" href="/favicons/bachira.png">
<link rel="apple-touch-icon" sizes="57x57" href="/favicons/bachira.png">
<link rel="apple-touch-icon" sizes="72x72" href="/favicons/bachira.png">
<link rel="apple-touch-icon" sizes="114x114" href="/favicons/bachira.png">
<link rel="apple-touch-icon" sizes="144x144" href="/favicons/bachira.png">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicons/bachira.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicons/bachira.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicons/bachira.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicons/bachira.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta property="og:image" content="/favicons/bachira.png">
<meta name="twitter:image" content="/favicons/bachira.png">
<meta property="og:image:whatsapp" content="/favicons/bachira.png">
<meta property="og:image:url" content="/favicons/bachira.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
    <title>AniHotel+</title>
    <link rel="stylesheet" href="continue-lendo.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="header.css">
    <link rel="stylesheet" href="adicionados.css">
    <link rel="stylesheet" href="miniatura_perfil.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            overflow-x: hidden;
        }

        /* Adiciona um cursor indicando que a imagem pode ser arrastada */
        .slideshow-container {
            cursor: grab;
            touch-action: pan-y; /* Permitir arrastamento apenas na direção y */
        }

        .continuar-lendo {
            opacity:0;
        }

        .secao.visivel {
            opacity: 1;
            transition: opacity 0.5s ease; /* Adiciona uma transição suave para a opacidade */
        }

        .slideshow-container {
            position: absolute;
            top: -3px;
        }

        header {
            position: fixed;
            top: -2px;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">    
                <i class="fas fa-book-open logo-icon"></i>
                <h1>AniHotel+</h1>
            </div>
            <nav>
                <ul>
                    <li>
                        <a href="catalogo/catalogo.html">
                            <i id="catalogo_icone" class="fas fa-bars"></i>
                            <span class="nav-text">Catálogo</span>
                        </a>
                    </li>
                    <li>
                        <a href="perfil/perfil.html">
                            <div class="perfil-thumbnail" id="perfil-thumbnail"></div>
                            <span class="nav-text">Perfil</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="slideshow-container" id="slideshow-container"> </div>

<div class="continuar-lendo" class="animate-on-scroll">
    <div class="continue-lendo"><h1>Continue a Ler</h1></div>
    <a href="" id="continue-lendo-link">
        <div class="capa-miniatura"></div>
        </a>
   <div class="nome-manga"></div>
   <div class="capitulo_manga"></div>
</div>

<div class="adicionados" class="animate-on-scroll">
    <div class="adicionados-h1">Recomendados</div>
    <div class="adicionados-mangas" id="adicionados-mangas">
    </div>
</div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="script.js"></script>
    <script src="favicons.js"></script>
    <script src="caso_icones.js"></script>


    <script>
       document.addEventListener('DOMContentLoaded', function() {
    const perfilThumbnail = document.getElementById('perfil-thumbnail');
    const perfilData = JSON.parse(localStorage.getItem('perfil'));

    // Caminho da imagem padrão
    const imagemPadrao = '/img/perfil_padrao.png';

    // Verifica se há uma foto de perfil salva localmente
    if (perfilData && perfilData.perfilFoto) {
        // Se houver uma foto de perfil, cria um elemento de imagem e define a imagem como fonte
        const img = document.createElement('img');
        img.src = perfilData.perfilFoto;
        img.style.objectFit = 'cover';
        img.style.objectPosition = 'center';
        perfilThumbnail.appendChild(img);
    } else {
        // Se não houver foto de perfil, usa o ícone padrão
        perfilThumbnail.innerHTML = `<img src="${imagemPadrao}" style="object-fit: cover; object-position: center;">`;
    }
});
    </script>

    <script>
        window.onload = function() {
    window.onerror = function() {
        window.location.href = "/index.html";
        return false; // Impede que o navegador exiba a mensagem de erro padrão
    };
};
    </script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var mangasRecomendados = [
            {
                id: 'berserk',
                imagem: '/img/berserk-cover.png',
                titulo: 'Berserk',
                url: '/berserk/selecionar.html',
                capitulos: '375 Capítulos'
            },
            {
                id: 'jujutsu',
                imagem: getRandomImageUrl('/jujutsu/capas', 'volume_', 0, 26, 'png'),
                titulo: 'Jujutsu Kaisen',
                url: '/jujutsu/selecionar.html',
                capitulos: '256 Capítulos'
            },
            {
                id: 'chainsaw',
                imagem: getRandomImageUrl('/chainsaw/capas', 'volume_', 1, 17, 'png'),
                titulo: 'Chainsaw Man',
                url: '/chainsaw/selecionar.html',
                capitulos: '162 Capítulos'
            },
            {
                id: 'hokkaido',
                imagem: getRandomImageUrl('/hokkaido/capas', 'volume_', 1, 12, 'png'),
                titulo: 'Hokkaido Gals',
                url: '/hokkaido/selecionar.html',
                capitulos: '103 Capítulos'
            },
            {
                id: 'dressup',
                imagem: getRandomImageUrl('/dressup/capas', 'volume_', 1, 12, 'png'),
                titulo: 'My Dress-Up Darling',
                url: '/dressup/selecionar.html',
                capitulos: '102 Capítulos'
            },
            {
                id: 'blue_lock',
                imagem: getRandomImageUrl('/bluelock/capas', 'volume_', 1, 28, 'png'),
                titulo: 'Blue Lock',
                url: '/bluelock/selecionar.html',
                capitulos: '256 Capítulos'
            }
            // Adicione mais mangás recomendados conforme necessário
        ];

        var adicionadosMangas = document.getElementById('adicionados-mangas');

        // Função para obter um número inteiro aleatório entre min e max (incluindo min e max)
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Função para obter uma URL de imagem aleatória da pasta
        function getRandomImageUrl(basePath, prefix, minNumber, maxNumber, extension) {
            // Gera um número aleatório entre minNumber e maxNumber (inclusive)
            var randomNumber = getRandomInt(minNumber, maxNumber);
            // Retorna a URL completa da imagem aleatória
            return basePath + '/' + prefix + randomNumber + '.' + extension;
        }

        // Função para exibir um mangá recomendado aleatoriamente
        function exibirMangaAleatorio() {
            var mangaAleatorio;

            // Seleciona aleatoriamente um mangá da lista
            mangaAleatorio = mangasRecomendados[getRandomInt(0, mangasRecomendados.length - 1)];

            // Verifica se o mangá recomendado é o mesmo em leitura contínua
            var continueLendo = localStorage.getItem('continueLendo');
            if (continueLendo) {
                var mangaEmLeitura = JSON.parse(continueLendo);
                if (mangaEmLeitura.nomeManga === mangaAleatorio.titulo) {
                    // Se for o mesmo, seleciona outro aleatoriamente
                    exibirMangaAleatorio();
                    return;
                }
            }

            // Cria os elementos HTML para exibir o mangá
            var divManga = document.createElement('div');
            divManga.classList.add('manga');
            divManga.id = mangaAleatorio.id;

            var img = document.createElement('img');
            img.src = mangaAleatorio.imagem;
            img.alt = mangaAleatorio.titulo;

            // Adiciona o evento de clique à imagem para redirecionar para a URL do manga
            img.addEventListener('click', function() {
                window.location.href = mangaAleatorio.url;
            });

            var h2 = document.createElement('h2');
            h2.textContent = mangaAleatorio.titulo;

            var p = document.createElement('p');
            p.textContent = mangaAleatorio.capitulos;

            divManga.appendChild(img);
            divManga.appendChild(h2);
            divManga.appendChild(p);

            // Limpa o conteúdo existente e adiciona o mangá aleatório
            adicionadosMangas.innerHTML = '';
            adicionadosMangas.appendChild(divManga);
        }

        // Exibe um mangá aleatório ao carregar a página
        exibirMangaAleatorio();
    });
</script>

<script>
    // Função para verificar se uma seção está totalmente fora da visão do usuário
    function isSectionOutsideView(section) {
        var rect = section.getBoundingClientRect();
        return (
            rect.bottom < 0 || rect.top > window.innerHeight
        );
    }

    // Função para exibir seções visíveis na janela de visualização e ocultar as seções fora da visão
    function showVisibleSections() {
        var sections = document.querySelectorAll('.secao'); // Seletor das seções de conteúdo
        sections.forEach(function(section) {
            if (isSectionOutsideView(section)) {
                section.classList.remove('visivel'); // Remove a classe para ocultar a seção
            } else {
                section.classList.add('visivel'); // Adiciona uma classe para exibir a seção
            }
        });
    }

    // Chama a função para exibir seções visíveis ao carregar a página
    document.addEventListener('DOMContentLoaded', function() {
        showVisibleSections();
    });

    // Chama a função para exibir seções visíveis quando a página é rolada
    window.addEventListener('scroll', function() {
        showVisibleSections();
    });
</script>

<script>
    // Função para definir e atualizar o conteúdo do "Continue Lendo" com base nos dados do localStorage
function atualizarContinueLendo() {
    // Obter os dados do localStorage
    var continueLendoData = localStorage.getItem('continueLendo');

    // Verificar se existem dados salvos
    if (continueLendoData) {
        // Converter os dados para objeto JavaScript
        var continueLendo = JSON.parse(continueLendoData);

        // Atualizar a exibição do "Continue Lendo" com os dados obtidos
        var continuarLendoDiv = document.querySelector('.continuar-lendo');
        continuarLendoDiv.classList.add('show'); // Adicionar a classe "show" para exibir a div
        continuarLendoDiv.querySelector('.capa-miniatura').innerHTML = '<a href="' + obterLinkManga(continueLendo.nomeManga, continueLendo.capitulo) + '"><img src="' + continueLendo.capa + '" alt="Capa"></a>';
        continuarLendoDiv.querySelector('.nome-manga').textContent = continueLendo.nomeManga;
        continuarLendoDiv.querySelector('.capitulo_manga').textContent = "Capitulo " + continueLendo.capitulo;
    } else {
        // Se não houver dados salvos, ocultar a div "Continue Lendo"
        var continuarLendoDiv = document.querySelector('.continuar-lendo');
        continuarLendoDiv.classList.remove('opacity'); // Remover a classe "show" para ocultar a div
    }
}

        // Função para obter o link do mangá com base no nome do mangá e no número do capítulo
function obterLinkManga(nomeManga, capitulo) {
    var linkBase = '';
    switch (nomeManga) {
        case 'Hokkaido Gals':
            linkBase = '/hokkaido_capitulos/Capitulo_';
            break;
        case 'Blue Lock':
            linkBase = '/bluelock_capitulos/Capitulo_';
            break;
        case 'My Dress-Up Darling':
            linkBase = '/dressup_capitulos/Capitulo_';
            break;
        case 'Chainsaw Man':
            linkBase = '/chainsaw_capitulos/Capitulo_';
            break;
        case 'Jujutsu Kaisen':
            linkBase = '/jujutsu_capitulos/Capitulo_';
            break;
        case 'Berserk':
            linkBase = '/berserk_capitulos/Capitulo_';
            break;
        default:
            console.error('Nome de manga desconhecido:', nomeManga);
            break;
    }
    return linkBase + capitulo + '/ler.html';
}

        // Chamar a função para atualizar o "Continue Lendo" ao carregar a página
        document.addEventListener('DOMContentLoaded', function() {
            atualizarContinueLendo();
        });

        // Função para definir a opacidade da div "Continue Lendo" com base na presença do localStorage "continueLendo"
function ajustarOpacidadeContinueLendo() {
    var continuarLendoDiv = document.querySelector('.continuar-lendo');
    var continueLendoData = localStorage.getItem('continueLendo');

    // Verificar se o localStorage "continueLendo" existe
    if (continueLendoData) {
        // Se existir, definir a opacidade como 100%
        continuarLendoDiv.style.opacity = '100%';
    } else {
        // Se não existir, definir a opacidade como 0%
        continuarLendoDiv.style.opacity = '0%';
    }
}

// Chamar a função ao carregar a página para ajustar a opacidade inicialmente
document.addEventListener('DOMContentLoaded', function() {
    ajustarOpacidadeContinueLendo();
});


    // Função para carregar o estado do capítulo e atualizar o "Continue Lendo"
    function carregarEstadoCapitulo() {
        var todosEstados = localStorage.getItem('todosEstados');

        if (todosEstados) {
            todosEstados = JSON.parse(todosEstados);

            for (var i = 0; i < todosEstados.length; i++) {
                var estadoManga = todosEstados[i];

                var manga = estadoManga.manga;
                var capitulo = estadoManga.capitulo;
                var capa = estadoManga.capa;

                // Atualizar o "Continue Lendo"
                atualizarContinueLendo(capa, manga, capitulo);
            }
        }
    }

    // Chamar a função para carregar o estado do capítulo ao carregar a página
    $(document).ready(function() {
        carregarEstadoCapitulo();
    });

</script>

</body>
</html>